<% # Clients of this partial must supply the following variable:
   # attachable %>

<table>
  <tr>
    <th>Asset</th>
    <th>Local name</th>
    <th>Caption</th>
    <th>Alt text</th>
    <th></th>
    <th></th>
  </tr>

<% if attachable.attachments.empty? %>
  <p>No attachments.</p>
<% else %>
<% attachable.attachments.each do |attachment| %>
  <tr>
    <td><%= link_to attachment.asset.file.filename, attachment.asset.url %></td>
    <td><%= attachment.local_name %></td>
    <td><%= attachment.caption %></td>
    <td><%= attachment.alt %></td>
    <td><%= link_to 'Edit', edit_attachment_path(attachment) %></td>
    <td><%= link_to 'Delete', attachment, method: :delete, data: { confirm: 'Are you sure you want to delete this attachment?' } %></td>
  </tr>
<% end %>
</table>

<br />
<% end %>

<%= link_to 'New attachment', new_polymorphic_path([attachable, :attachment]) %>
