<% # Clients of this partial must supply the following variable:
   # derivations %>

<table>
  <tr>
    <th></th>
    <th>Source</th>
    <th></th>
  </tr>
<% derivations.each do |derivation| %>
  <% source = derivation.source_publishable %>
  <tr>
    <td></td>
    <td><%= link_to source.name, source %></td>
    <td><% if derivation.can_be_destroyed_by?(current_user) || user_is_admin? %>
          <%= link_to 'Remove', derivation, method: :delete, data: {
                confirm: "Are you sure you want to remove #{source.name} from the list of sources?"
              } %>
        <% end %></td>
  </tr>
<% end %>
</table>
