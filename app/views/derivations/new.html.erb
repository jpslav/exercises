<%= page_heading "Add source #{@publishable_class}" %>

<%= render :partial => "shared/#{@publishable_class}s_search", 
           :locals => { :current_path => new_polymorphic_path([@publishable, :derivation]),
                        :exercise_types => 'published exercises',
                        :solution_types => 'published solutions',
                        :container => @publishable,
                        :exclude_id => @publishable.id,
                        :exclude_text => 'Cannot add self',
                        :presence_check_method => 'has_source?',
                        :already_present_text => "Already a source #{@publishable_class}",
                        :form_action_path => polymorphic_path([@publishable, :derivations]),
                        :hidden_field_name => 'source_publishable_id',
                        :submit_text => "Add source #{@publishable_class}" } %>

<br/>

<%= link_to 'Back', @publishable %>
